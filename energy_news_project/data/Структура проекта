energy_news_project/
‚îÇ
‚îú‚îÄ‚îÄ parser/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ rss_parser.py
‚îÇ   ‚îú‚îÄ‚îÄ nlp_filter.py
‚îÇ   ‚îú‚îÄ‚îÄ stats.py
‚îÇ   ‚îî‚îÄ‚îÄ utils.py
‚îÇ
‚îú‚îÄ‚îÄ bot/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ moderation_bot.py
‚îÇ   ‚îú‚îÄ‚îÄ db.py
‚îÇ   ‚îî‚îÄ‚îÄ formatters.py
‚îÇ
‚îú‚îÄ‚îÄ data/
‚îÇ   ‚îú‚îÄ‚îÄ sent_ids.json
‚îÇ   ‚îú‚îÄ‚îÄ news_db.json
‚îÇ   ‚îî‚îÄ‚îÄ (—Å—é–¥–∞ –±—É–¥—É—Ç –ø–∞–¥–∞—Ç—å energy_news_*.json –∏ –æ—Ç—á—ë—Ç—ã)
‚îÇ
‚îú‚îÄ‚îÄ main_parser.py
‚îú‚îÄ‚îÄ main_bot.py
‚îî‚îÄ‚îÄ requirements.txt



main_parser.py ‚Äî –∑–∞–ø—É—Å–∫–∞–µ—à—å —Å–±–æ—Ä –Ω–æ–≤–æ—Å—Ç–µ–π.
main_bot.py ‚Äî –∑–∞–ø—É—Å–∫–∞–µ—à—å –±–æ—Ç–∞.
–ù–æ–≤–æ—Å—Ç–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ data/.


---
–Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ —Ñ–∞–π–ª–∞ –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –ø—Ä–æ–µ–∫—Ç–∞
üìÇ parser/ ‚Äî –º–æ–¥—É–ª—å –ø–∞—Ä—Å–∏–Ω–≥–∞ –∏ –∞–Ω–∞–ª–∏–∑–∞ –Ω–æ–≤–æ—Å—Ç–µ–π
üìÑ __init__.py

–ü—Ä–æ—Å—Ç–æ –ø–æ–º–µ—á–∞–µ—Ç –ø–∞–ø–∫—É –∫–∞–∫ –º–æ–¥—É–ª—å Python.

–ú–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –ø—É—Å—Ç—ã–º.

üìÑ utils.py

–í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ç–µ–∫—Å—Ç–∞.

clean_text() ‚Äî —É–¥–∞–ª—è–µ—Ç HTML-—Ç–µ–≥–∏, —Å—Å—ã–ª–∫–∏, –ª–∏—à–Ω–∏–µ –ø—Ä–æ–±–µ–ª—ã, –¥–µ–ª–∞–µ—Ç —Ç–µ–∫—Å—Ç ¬´—á–∏—Å—Ç—ã–º¬ª.

üìÑ nlp_filter.py

–°–æ–¥–µ—Ä–∂–∏—Ç –º–æ–¥—É–ª—å –∞–Ω–∞–ª–∏–∑–∞ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –Ω–æ–≤–æ—Å—Ç–µ–π –ø–æ —Ç–µ–º–∞—Ç–∏–∫–µ —ç–Ω–µ—Ä–≥–µ—Ç–∏–∫–∏.

EXPANDED_KEYWORDS ‚Äî —Å–ø–∏—Å–æ–∫ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤ –Ω–∞ —Ä—É—Å—Å–∫–æ–º –∏ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º –¥–ª—è –ø–æ–∏—Å–∫–∞.

load_classification_model() ‚Äî –∑–∞–≥—Ä—É–∂–∞–µ—Ç –º–æ–¥–µ–ª—å HuggingFace –¥–ª—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Ç–µ–∫—Å—Ç–∞.

is_energy_related() ‚Äî –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –ª–∏ —Ç–µ–∫—Å—Ç –∫ —ç–Ω–µ—Ä–≥–µ—Ç–∏–∫–µ (–ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º + –º–æ–¥–µ–ª—å).

translate_text() ‚Äî –ø–µ—Ä–µ–≤–æ–¥ —Ç–µ–∫—Å—Ç–∞ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –µ—Å–ª–∏ –Ω–æ–≤–æ—Å—Ç—å –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º).

üìÑ stats.py

–ú–æ–¥—É–ª—å —Å–±–æ—Ä–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–æ –æ–±—Ä–∞–±–æ—Ç–∫–µ –Ω–æ–≤–æ—Å—Ç–µ–π.

init_stats() ‚Äî —Å–æ–∑–¥–∞—ë—Ç —Å–ª–æ–≤–∞—Ä—å —Å–æ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π (—Å–∫–æ–ª—å–∫–æ –≤—Å–µ–≥–æ, —Å–∫–æ–ª—å–∫–æ –ø—Ä–∏–Ω—è—Ç–æ, —Å–∫–æ–ª—å–∫–æ –æ—Ç–∫–ª–æ–Ω–µ–Ω–æ).

update_stats() ‚Äî –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ –∫–∞–∂–¥–æ–π –Ω–æ–≤–æ—Å—Ç–∏.

generate_stats_report() ‚Äî –≥–æ—Ç–æ–≤–∏—Ç –∫—Ä–∞—Å–∏–≤—ã–π —Ç–µ–∫—Å—Ç–æ–≤—ã–π –æ—Ç—á—ë—Ç.

save_results() ‚Äî —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –Ω–æ–≤–æ—Å—Ç–∏ –≤ JSON + –æ—Ç—á—ë—Ç –≤ TXT.

üìÑ rss_parser.py

–û—Å–Ω–æ–≤–Ω–æ–π –ø–∞—Ä—Å–µ—Ä RSS-–ª–µ–Ω—Ç.

RSS_FEEDS ‚Äî —Å–ø–∏—Å–æ–∫ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ (—Å–∞–π—Ç + RSS-URL).

get_full_text() ‚Äî –ø–æ —Å—Å—ã–ª–∫–µ –¥–æ—Å—Ç–∞—ë—Ç –ø–æ–ª–Ω—ã–π —Ç–µ–∫—Å—Ç —Å—Ç–∞—Ç—å–∏.

parse_feed() ‚Äî –ø–∞—Ä—Å–∏—Ç –æ–¥–∏–Ω –∏—Å—Ç–æ—á–Ω–∏–∫, —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç –Ω–æ–≤–æ—Å—Ç–∏ —á–µ—Ä–µ–∑ is_energy_related().

parse_all_feeds() ‚Äî —Å–æ–±–∏—Ä–∞–µ—Ç –Ω–æ–≤–æ—Å—Ç–∏ —Å–æ –≤—Å–µ—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤.

üìÇ bot/ ‚Äî –º–æ–¥—É–ª—å Telegram-–±–æ—Ç–∞
üìÑ __init__.py

–ü–æ–º–µ—á–∞–µ—Ç –ø–∞–ø–∫—É –∫–∞–∫ –º–æ–¥—É–ª—å Python.

–ú–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –ø—É—Å—Ç—ã–º.

üìÑ db.py

–ü—Ä–æ—Å—Ç–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è.

sent_ids.json ‚Äî —Ö—Ä–∞–Ω–∏—Ç ID —É–∂–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö –Ω–æ–≤–æ—Å—Ç–µ–π.

news_db.json ‚Äî —Ö—Ä–∞–Ω–∏—Ç –Ω–æ–≤–æ—Å—Ç–∏, –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏—é.

–§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏/—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —ç—Ç–∏—Ö —Ñ–∞–π–ª–æ–≤.

üìÑ formatters.py

–û—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –ø–æ–¥–≥–æ—Ç–æ–≤–∫—É —Ç–µ–∫—Å—Ç–∞ –∫ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏.

safe_clean_text() ‚Äî –æ—á–∏—â–∞–µ—Ç —Ç–µ–∫—Å—Ç –æ—Ç HTML –∏ –ª–∏—à–Ω–µ–≥–æ.

format_news_for_publication() ‚Äî –∫—Ä–∞—Å–∏–≤–æ —Å–æ–±–∏—Ä–∞–µ—Ç –Ω–æ–≤–æ—Å—Ç—å –¥–ª—è Telegram (–∑–∞–≥–æ–ª–æ–≤–æ–∫, —Ç–µ–∫—Å—Ç, –∏—Å—Ç–æ—á–Ω–∏–∫, —Å—Å—ã–ª–∫–∞).

üìÑ moderation_bot.py

–û—Å–Ω–æ–≤–Ω–æ–π Telegram-–±–æ—Ç.

start() ‚Äî –∫–æ–º–∞–Ω–¥–∞ /start, –ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–ø—É—Å–∫–∞.

button_handler() ‚Äî –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–Ω–æ–ø–æ–∫ (‚úÖ –û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å, ‚ùå –û—Ç–∫–ª–æ–Ω–∏—Ç—å).

–ü—Ä–∏ –æ–¥–æ–±—Ä–µ–Ω–∏–∏ –Ω–æ–≤–æ—Å—Ç—å –ø—É–±–ª–∏–∫—É–µ—Ç—Å—è –≤ –∫–∞–Ω–∞–ª, –ø—Ä–∏ –æ—Ç–∫–∞–∑–µ –ø–æ–º–µ—á–∞–µ—Ç—Å—è –∫–∞–∫ –æ—Ç–∫–ª–æ–Ω—ë–Ω–Ω–∞—è.

run_bot() ‚Äî –∑–∞–ø—É—Å–∫–∞–µ—Ç –±–æ—Ç–∞ (polling).

üìÇ data/ ‚Äî –¥–∞–Ω–Ω—ã–µ

sent_ids.json ‚Äî —Ö—Ä–∞–Ω–∏—Ç ID –Ω–æ–≤–æ—Å—Ç–µ–π, –∫–æ—Ç–æ—Ä—ã–µ —É–∂–µ –æ—Ç–ø—Ä–∞–≤–ª—è–ª–∏—Å—å.

news_db.json ‚Äî –±–∞–∑–∞ –Ω–æ–≤–æ—Å—Ç–µ–π –¥–ª—è –º–æ–¥–µ—Ä–∞—Ü–∏–∏.

energy_news_*.json ‚Äî —Ñ–∞–π–ª—ã —Å –≤—ã–≥—Ä—É–∂–µ–Ω–Ω—ã–º–∏ –Ω–æ–≤–æ—Å—Ç—è–º–∏ –ø–æ—Å–ª–µ –ø–∞—Ä—Å–∏–Ω–≥–∞.

processing_stats_*.txt ‚Äî —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –æ—Ç—á—ë—Ç—ã –ø–æ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–µ.

üìÑ main_parser.py

–¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –¥–ª—è –ø–∞—Ä—Å–µ—Ä–∞.

–ó–∞–≥—Ä—É–∂–∞–µ—Ç –º–æ–¥–µ–ª—å –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏.

–ó–∞–ø—É—Å–∫–∞–µ—Ç parse_all_feeds().

–°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ data/energy_news_*.json.

–ü–µ—á–∞—Ç–∞–µ—Ç –∫—Ä–∞—Ç–∫—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –≤ –∫–æ–Ω—Å–æ–ª—å.

üìÑ main_bot.py

–¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –¥–ª—è Telegram-–±–æ—Ç–∞.

–ü—Ä–æ—Å—Ç–æ –∑–∞–ø—É—Å–∫–∞–µ—Ç run_bot().

üìÑ requirements.txt

–°–ø–∏—Å–æ–∫ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:

feedparser ‚Äî –ø–∞—Ä—Å–∏–Ω–≥ RSS.

requests ‚Äî –∑–∞–≥—Ä—É–∑–∫–∞ HTML-—Å—Ç—Ä–∞–Ω–∏—Ü.

beautifulsoup4 ‚Äî –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –∏–∑ HTML.

transformers, torch ‚Äî –º–æ–¥–µ–ª—å NLP.

deep-translator ‚Äî –ø–µ—Ä–µ–≤–æ–¥—á–∏–∫.

python-telegram-bot ‚Äî Telegram-–±–æ—Ç.

üìå –í –∏—Ç–æ–≥–µ:

main_parser.py ‚Üí –∑–∞–ø—É—Å–∫–∞–µ—à—å —Å–±–æ—Ä –Ω–æ–≤–æ—Å—Ç–µ–π.

main_bot.py ‚Üí –∑–∞–ø—É—Å–∫–∞–µ—à—å –±–æ—Ç–∞ –¥–ª—è –º–æ–¥–µ—Ä–∞—Ü–∏–∏ –∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏.